{"ast":null,"code":"var _jsxFileName = \"/home/practice/book-manage-app/front/src/components/Menu.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport Select from 'react-select';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport let currentuser = 0;\nfunction Menu() {\n  _s();\n  const [userid, setUserid] = useState(0);\n  let menu;\n  const [datas, setDatas] = useState([]);\n  const getUsers = async () => {\n    const response = await axios.get('/ep');\n    setDatas(response.data);\n  };\n  useEffect(() => {\n    getUsers();\n  }, []);\n  const options = datas.map((user, index) => {\n    return {\n      value: user.id,\n      label: user.name\n    };\n  });\n  const handleSubmit = () => {\n    currentuser = userid;\n  };\n  const handleChange = e => {\n    setUserid(e.target.value);\n  };\n  if (currentuser === 0) {\n    menu = /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"select user\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(Select, {\n          options: options,\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }, this);\n  } else {\n    menu = /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: [/*#__PURE__*/_jsxDEV(\"li\", {\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/list\",\n          children: \"List\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/new\",\n          children: \"New\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: menu\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 81,\n    columnNumber: 9\n  }, this);\n}\n_s(Menu, \"s2Ycgd4aQwNvTHLBSf/miU+82HA=\");\n_c = Menu;\nexport default Menu;\nvar _c;\n$RefreshReg$(_c, \"Menu\");","map":{"version":3,"names":["React","useState","useEffect","Link","Select","axios","currentuser","Menu","userid","setUserid","menu","datas","setDatas","getUsers","response","get","data","options","map","user","index","value","id","label","name","handleSubmit","handleChange","e","target"],"sources":["/home/practice/book-manage-app/front/src/components/Menu.js"],"sourcesContent":["import React,{useState, useEffect} from 'react';\nimport {Link} from 'react-router-dom';\nimport Select from 'react-select';\nimport axios from 'axios';\n\n\nexport let currentuser = 0;\n\nfunction Menu() {\n\n\n    const [userid,setUserid] = useState(0);\n\n    let menu;\n\n    const [datas,setDatas] = useState([]);\n\n\n    const getUsers = async () => {\n            const response = await axios.get('/ep');\n            setDatas(response.data);\n        }\n\n        useEffect(() => {\n            getUsers();\n        }, []);\n\n        const options = datas.map((user, index) => {\n            return(\n            \n                {value: user.id,label: user.name}\n                \n            );\n        });\n\n    const handleSubmit = ()=>{\n        currentuser = userid;\n    }\n\n    const handleChange = (e)=>{\n        setUserid(\n            e.target.value\n        );\n    }\n    \n    \n    \n    \n    if(currentuser === 0){\n        menu = (\n        <div>    \n        <h1>select user</h1>\n\n        <form onSubmit={handleSubmit}>\n            <Select options={options} onChange={handleChange} />\n            <input type=\"submit\" />\n        </form>\n\n        \n        </div>\n        \n        );\n            \n    \n        \n    }else{\n        menu = (\n        <ul>\n            <li>\n                <Link to='/list'>List</Link>\n            </li>\n            <li>\n                <Link to='/new'>New</Link>\n            </li>\n        </ul>);\n    }\n\n\n\n    return (\n        <div>\n        \n        {menu}\n\n        \n        \n    \n            \n        </div>\n        \n    );\n\n}\n\n\nexport default Menu;"],"mappings":";;AAAA,OAAOA,KAAK,IAAEC,QAAQ,EAAEC,SAAS,QAAO,OAAO;AAC/C,SAAQC,IAAI,QAAO,kBAAkB;AACrC,OAAOC,MAAM,MAAM,cAAc;AACjC,OAAOC,KAAK,MAAM,OAAO;AAAC;AAG1B,OAAO,IAAIC,WAAW,GAAG,CAAC;AAE1B,SAASC,IAAI,GAAG;EAAA;EAGZ,MAAM,CAACC,MAAM,EAACC,SAAS,CAAC,GAAGR,QAAQ,CAAC,CAAC,CAAC;EAEtC,IAAIS,IAAI;EAER,MAAM,CAACC,KAAK,EAACC,QAAQ,CAAC,GAAGX,QAAQ,CAAC,EAAE,CAAC;EAGrC,MAAMY,QAAQ,GAAG,YAAY;IACrB,MAAMC,QAAQ,GAAG,MAAMT,KAAK,CAACU,GAAG,CAAC,KAAK,CAAC;IACvCH,QAAQ,CAACE,QAAQ,CAACE,IAAI,CAAC;EAC3B,CAAC;EAEDd,SAAS,CAAC,MAAM;IACZW,QAAQ,EAAE;EACd,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMI,OAAO,GAAGN,KAAK,CAACO,GAAG,CAAC,CAACC,IAAI,EAAEC,KAAK,KAAK;IACvC,OAEI;MAACC,KAAK,EAAEF,IAAI,CAACG,EAAE;MAACC,KAAK,EAAEJ,IAAI,CAACK;IAAI,CAAC;EAGzC,CAAC,CAAC;EAEN,MAAMC,YAAY,GAAG,MAAI;IACrBnB,WAAW,GAAGE,MAAM;EACxB,CAAC;EAED,MAAMkB,YAAY,GAAIC,CAAC,IAAG;IACtBlB,SAAS,CACLkB,CAAC,CAACC,MAAM,CAACP,KAAK,CACjB;EACL,CAAC;EAKD,IAAGf,WAAW,KAAK,CAAC,EAAC;IACjBI,IAAI,gBACJ;MAAA,wBACA;QAAA,UAAI;MAAW;QAAA;QAAA;QAAA;MAAA,QAAK,eAEpB;QAAM,QAAQ,EAAEe,YAAa;QAAA,wBACzB,QAAC,MAAM;UAAC,OAAO,EAAER,OAAQ;UAAC,QAAQ,EAAES;QAAa;UAAA;UAAA;UAAA;QAAA,QAAG,eACpD;UAAO,IAAI,EAAC;QAAQ;UAAA;UAAA;UAAA;QAAA,QAAG;MAAA;QAAA;QAAA;QAAA;MAAA,QACpB;IAAA;MAAA;MAAA;MAAA;IAAA,QAKN;EAIL,CAAC,MAAI;IACDhB,IAAI,gBACJ;MAAA,wBACI;QAAA,uBACI,QAAC,IAAI;UAAC,EAAE,EAAC,OAAO;UAAA,UAAC;QAAI;UAAA;UAAA;UAAA;QAAA;MAAO;QAAA;QAAA;QAAA;MAAA,QAC3B,eACL;QAAA,uBACI,QAAC,IAAI;UAAC,EAAE,EAAC,MAAM;UAAA,UAAC;QAAG;UAAA;UAAA;UAAA;QAAA;MAAO;QAAA;QAAA;QAAA;MAAA,QACzB;IAAA;MAAA;MAAA;MAAA;IAAA,QACH;EACV;EAIA,oBACI;IAAA,UAECA;EAAI;IAAA;IAAA;IAAA;EAAA,QAMC;AAId;AAAC,GApFQH,IAAI;AAAA,KAAJA,IAAI;AAuFb,eAAeA,IAAI;AAAC;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}